
\begin{figure*}
\begin{center}
\begin{tikzpicture}[node distance=2.5cm,auto,>=latex',scale=0.92]
        
        \def \rectanglepath#1#2{ -- node (p#1) [below=1mm] {$   #2   $} ++(0.75cm,0cm) -- ++(0cm,2.5cm)  -- ++(-0.75cm,0cm) -- cycle }
        \tikzstyle{bbball}=[circle,shading=ball, ball color=black,  minimum width=0.3cm]
        \tikzstyle{wwball}=[circle,shading=ball, ball color=white,  minimum width=0.3cm]
        \begin{scope}[line width =1.4pt]
        \draw  (0,0) \rectanglepath{1}{1}; % 
        \draw  (2,0) \rectanglepath{2}{2}; %  
        \draw  (4,-2) \rectanglepath{3}{3}; %  
        \draw  (4,2) \rectanglepath{4}{4}; % 
        \draw  (6,0) \rectanglepath{5}{5}; % 
        \end{scope} 
        \begin{scope}[line width =1pt] 
        \draw[->]  (1,1.25) -- (1.75,1.25) ; %
        \draw[->]  (3,1.5) -- (3.75,3) ; %
        \draw[->]  (3,1) -- (3.75,-0.5) ; %  
        \draw[->]  (5,3) -- (5.75,1.5) ; %
        \draw[->]  (5,-0.5) -- (5.75,1) ; %  
        \end{scope}
           
        \foreach \x in {0.5,1,1.5,2}  \node [bbball] at  (0.4,\x) {};  
        \foreach \x in {0.5,1,2}  \node [bbball] at (2.4,\x)  {};
        \foreach \x in {0.5}  \node [bbball] at (4.4,\x +2)  {}; 

        \foreach \x in {1.5}  \node [wwball] at  (2.4,\x) {};  
        \foreach \x in {1,1.5,2}  \node [wwball] at (4.4,\x+2)  {};
        \foreach \x in {0.5,1,1.5,2} \node [wwball] at (4.4,\x -2)  {};
        \foreach \x in {0.5,1,1.5,2}  \node [wwball] at (6.4,\x)  {};        

        \node (p1) [bbball] at (-1,1.25) {};
        \node (p2) [bbball] at (0.4,1.5) {};   
        \node (p3) [bbball] at (2.4,0.5) {};
        \node (p4) [wwball] at (4.4,1.5+2) {};
        \node (p5) [wwball] at (6.4,1.5) {};
         \node (p6)         at (7.8,1.25) {}; 
       

        \draw[dashed,->]  (p1.east) .. controls +(0.2,0.2) .. (p2.west);
        \draw[dashed,->]  (p2.south east) .. controls +(0.4,-1.1) .. (p3.west);
        \draw[dashed,->]  (p3.east) .. controls +(0.42,-0.04) .. (p4.west);
         \draw[dashed,->]  (p4.north east) .. controls +(0.4,+0.3)  ..  (p5.west);
         
%%%%


        \begin{scope}[line width =1.4pt]
        \draw  (8.5,0) \rectanglepath{1x}{1}; % 
        \draw  (10.5,0) \rectanglepath{2x}{2}; %  
        \draw  (12.5,-2) \rectanglepath{3x}{3}; %  
        \draw  (12.5,2) \rectanglepath{4x}{4}; % 
        \draw  (14.5,0) \rectanglepath{5x}{5}; % 
        \end{scope} 
        \begin{scope}[line width =1pt] 
        \draw[->]  (9.5,1.25) -- (10.25,1.25) ; %
        \draw[->]  (11.5,1.5) -- (12.25,3) ; %
        \draw[->]  (11.5,1) -- (12.25,-0.5) ; %  
        \draw[->]  (13.5,3) -- (14.25,1.5) ; %
        \draw[->]  (13.5,-0.5) -- (14.25,1) ; %  
        \end{scope}
           
        \foreach \x in {0.5,1,1.5,2}  \node [bbball] at  (8.9,\x) {};  
        \foreach \x in {0.5,1,2}  \node [bbball] at (10.9,\x)  {};
        \foreach \x in {0.5}  \node [bbball] at (12.9,\x +2)  {}; 

        \foreach \x in {1.5}  \node [wwball] at  (10.9,\x) {};  
        \foreach \x in {1,1.5,2}  \node [wwball] at (12.9,\x+2)  {};
        \foreach \x in {0.5,1,1.5,2} \node [wwball] at (12.9,\x -2)  {};
        \foreach \x in {0.5,1,1.5,2}  \node [wwball] at (14.9,\x)  {};        

        
        \node (p2x) [bbball] at (8.9,1.5) {};   
        \node (p3x) [bbball] at (10.9,0.5) {};
        \node (p4x) [bbball] at (12.9,1.5+2) {};
        \node (p5x) [wwball] at (14.9,1.5) {};
        \node (p6x) [wwball] at (16.3,1.25) {}; 
       

         \draw[dashed,->]  (p5x.south east) .. controls +(0.3,-0.2)  ..  (p6x.west);
         \end{tikzpicture}

\end{center}
  \caption{Example of system of connected urns.  Graph $\mathcal{G}=(\{1,2,3,4,5\},\{(1,2),(2,3),(2,4),(3,5),(4,5)\})$ \label{fig:general} just after round $t=8$ (left side)  and just after round $t=9$ (right side). For each $a\in \{1,2,3,4,5\}$
		we have $n_a=4$. 
		In this picture we have $B_{1}(8)=B_{1}(9)=4$, $B_{4}(9)=W_{4}(9)=2$.}
\end{figure*}
